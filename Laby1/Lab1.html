<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main>
        <div class="container">
            <div>
                <form>
                    <div id ="inputForm" onchange="calculate()">
                        <label>Pierwsza wartość:</label><br>
                        <input id="input" type="number" value="0"><br>
                        <label>Druga wartość:</label><br>
                        <input id="input" type="number" value="0"><br>
                        <label>Trzecia wartość:</label><br>
                        <input id="input" type="number" value="0"><br>
                    </div>
                </form>
                    <button id="calculate">Przelicz</button>
                    <button onclick="addInput()">Add input</button>
                    <button onclick="removeInput(), calculate()">Remove input</button>
            </div class = "output">
                <form > 
                    <label>Suma:</label> <br>
                    <input id="sum" type="text" value="" readonly="readonly" > <br>
                    <label>Średnia:</label> <br>
                    <input id="mean" type="text" value="" readonly="readonly"><br>
                    <label>Wartość min:</label> <br>
                    <input id="min" type="text" value="" readonly="readonly"> <br>
                    <label>Wartość max:</label></label> <br>
                    <input id="max" type="text" value="" readonly="readonly"> <br>
              </form>
            </div>
        </div>
    </main>

    <script type="text/javascript">
        const mainContainer = document.querySelector('.container') 
        const inputForm = document.querySelector('#inputForm')
        const calculateButton = document.querySelector('#calculate')
        const sumText = document.querySelector('#sum')
        const avgText = document.querySelector("#mean")
        const maxText = document.querySelector("#max")
        const minText = document.querySelector("#min")



function addInput(){
    let input = document.createElement('input');
    input.setAttribute("id", "input");
    input.setAttribute("type", "number");
    input.setAttribute("value", 0);
    inputForm.append(input);
};

function removeInput(){
let allInputs = document.querySelectorAll('#input');
if(allInputs.length > 3){
    let lastInput = allInputs[allInputs.length-1];
inputForm.removeChild(lastInput);
};

};

function calculate(){
const allInputs = document.querySelectorAll('#input');
let tempSum = 0;
let tempAvg = 0;
const tab = [];
allInputs.forEach(element => {
    tab.push(Number(element.value));
    tempSum += Number(element.value);
    tempAvg = tempSum/allInputs.length;
});
sumText.value = tempSum;
avgText.value = tempAvg;

maxText.value = Math.max(...tab);
minText.value = Math.min(...tab);

}

calculateButton.addEventListener('click', function () {
calculate();
});

    </script>
</body>
</html>